<!DOCTYPE html> <html lang=en > <meta charset=UTF-8  /> <meta name=viewport  content="width=device-width, initial-scale=1" /> <title>Chapter 5 — Advanced Static Analysis Techniques</title> <meta property="og:url" content="posts/introduction-to-static-analysis/chapter5" /> <meta property="og:title" content="Chapter 5 — Advanced Static Analysis Techniques" /> <meta property="og:image" content="assets/what_about_the_dead_fish.jpeg" /> <meta property="og:type" content=article  /> <meta property="og:description" content="A note on "Introduction to Static Analysis", Chapter 5 — Advanced Static Analysis Techniques" /> <meta property="og:published_time" content=2021-05-15  /> <meta name="twitter:card" content=summary  /> <meta name="twitter:site" content="@kdwkshh" /> <meta name="twitter:creator" content="@kdwkshh" /> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/atom-one-light.min.css"> <link rel=icon  href="/assets/what_about_the_dead_fish.jpeg" /> <link rel=stylesheet  href="/css/aviatesk.css" /> <navigation-bar><div class=navigation-info  id=site-info ><a href="/">Shuhei Kadowaki's homepage</a></div></navigation-bar><navigation-bar class=navigation-sticky ><navigation-hover> <a class=navigation-info  id=page-info >$ Chapter 5 — Advanced Static Analysis Techniques</a> <div class=franklin-toc ><ol><li><a href="#constructions_of_abstract_domains"> 1. Constructions of Abstract Domains</a><li><a href="#advanced_iteration_techniques"> 2. Advanced Iteration Techniques</a><li><a href="#sparse_analysis"> 3. Sparse Analysis</a><li><a href="#modular_analysis"> 4. Modular Analysis</a><li><a href="#backward_analysis"> 5. Backward Analysis</a></ol></div> </navigation-hover> <navigation-hover> <img src="/assets/terminal.svg" id=terminal-icon  /> <ul id=site-cd > <li><a style="text-decoration: none" href="/">cd ~</a> <li><a style="text-decoration: none" href="/posts">cd posts</a> <li><a style="text-decoration: none" href="https://github.com/aviatesk">cd <i class="fab fa-github"></i></a> <li><a style="text-decoration: none" href="https://twitter.com/kdwkshh">cd <i class="fab fa-twitter"></i></a> <li><a style="text-decoration: none" href="javascript:history.back()">cd ..</a> </ul> </navigation-hover> </navigation-bar> <div class=franklin-content ><div class=blog-info > <blogtitle> Chapter 5 — Advanced Static Analysis Techniques <a type="application/rss+xml" href="https://aviatesk.github.io/feed.xml" style="float: right"> <i class="fas fa-rss"></i> </a> </blogtitle> <div class=published-date > 15 May 2021 </div> </div> <div class=franklin-toc ><ol><li><a href="#constructions_of_abstract_domains">Constructions of Abstract Domains</a><ol><li><a href="#product_domain">Product Domain</a></ol><li><a href="#advanced_iteration_techniques">Advanced Iteration Techniques</a><ol><li><a href="#loop_unrolling">Loop Unrolling</a><li><a href="#delayed_widening">Delayed Widening</a><li><a href="#refinement_of_an_abstract_approximation_of_a_least_fixpoint">Refinement of an Abstract Approximation of a Least Fixpoint</a></ol><li><a href="#sparse_analysis">Sparse Analysis</a><ol><li><a href="#exploiting_spartial_sparsity">Exploiting Spartial Sparsity</a></ol><li><a href="#modular_analysis">Modular Analysis</a><li><a href="#backward_analysis">Backward Analysis</a><ol><li><a href="#forward_semantics_and_backward_semantics">Forward Semantics and backward Semantics</a><li><a href="#possible_applications">Possible Applications</a><li><a href="#precision_refinement_by_combined_forward_and_backward_analysis">Precision Refinement by Combined Forward and Backward Analysis</a></ol></ol></div> <h1 id=constructions_of_abstract_domains ><a href="#constructions_of_abstract_domains" class=header-anchor >Constructions of Abstract Domains</a></h1> <h2 id=product_domain ><a href="#product_domain" class=header-anchor >Product Domain</a></h2> <div class=example ><div class=admonition-header >Example: Coalescent product</div> <div class=admonition-body ><ul> <li><p>let <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>M</mi><mi mathvariant=normal >⊥</mi><mi mathvariant=normal >#</mi></msubsup></mrow><annotation encoding="application/x-tex">M_{\bot}^{\#}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.2683239999999998em;vertical-align:-0.3013079999999999em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">⊥</span></span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span></span></span></span> to be the abstract element defined by <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>M</mi><mi mathvariant=normal >⊥</mi><mi mathvariant=normal >#</mi></msubsup><mo stretchy=false >(</mo><mi>x</mi><mo stretchy=false >)</mo><mo>=</mo><msubsup><mi>M</mi><mi mathvariant=normal >⊥</mi><mi mathvariant=normal >#</mi></msubsup><mo stretchy=false >(</mo><mi>y</mi><mo stretchy=false >)</mo><mo>=</mo><mi mathvariant=normal >⊥</mi></mrow><annotation encoding="application/x-tex">M_{\bot}^{\#}(x) = M_{\bot}^{\#}(y) = \bot</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.2683239999999998em;vertical-align:-0.3013079999999999em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">⊥</span></span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathnormal">x</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.2683239999999998em;vertical-align:-0.3013079999999999em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">⊥</span></span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class=mord >⊥</span></span></span></span></p> <li><p>when <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>M</mi><mi mathvariant=normal >#</mi></msup></mrow><annotation encoding="application/x-tex">M^{\#}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8491079999999999em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span></span></span></span> maps any variable into <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >⊥</mi></mrow><annotation encoding="application/x-tex">\bot</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class=mord >⊥</span></span></span></span>, it should be <em>reduced</em> into <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>M</mi><mi mathvariant=normal >⊥</mi><mi mathvariant=normal >#</mi></msubsup></mrow><annotation encoding="application/x-tex">M_{\bot}^{\#}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.2683239999999998em;vertical-align:-0.3013079999999999em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">⊥</span></span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span></span></span></span></p> <li><p>&#61;&gt; can improve the analysis precision of condition tests, etc.</p> <li><p>this technique is also used in Julia abstract interpretation, e.g. <a href="https://github.com/JuliaLang/julia/blob/9113c01bb1ae0e144dc92f9b0b3e051409f35c0a/base/compiler/abstractinterpretation.jl#L1401-L1403"><code>abstract_statement</code></a></p> <ul> <li><p>NOTE: this is why the abstract element is initialized <code>NOT_FOUND</code>, rather than <code>Bottom</code>, I think</p> </ul> </ul></div></div> <br/> <div class=note ><div class=admonition-header >Note</div> <div class=admonition-body >A static analysis based on a reduced product is in general more precise than a <em>product of static analysis</em>. Because the former can refine abstract information at any time, rather than only at the very end.</div></div> <h1 id=advanced_iteration_techniques ><a href="#advanced_iteration_techniques" class=header-anchor >Advanced Iteration Techniques</a></h1> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><msubsup><mi>M</mi><mn>0</mn><mi mathvariant=normal >#</mi></msubsup><mo>=</mo><msup><mi>M</mi><mi mathvariant=normal >#</mi></msup><mspace linebreak=newline ></mspace><msubsup><mi>M</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow><mi mathvariant=normal >#</mi></msubsup><mo>=</mo><msubsup><mi>M</mi><mi>k</mi><mi mathvariant=normal >#</mi></msubsup><mi mathvariant=normal >▽</mi><msup><mi>F</mi><mi mathvariant=normal >#</mi></msup><mo stretchy=false >(</mo><msubsup><mi>M</mi><mi>k</mi><mi mathvariant=normal >#</mi></msubsup><mo stretchy=false >)</mo><mspace linebreak=newline ></mspace><msubsup><mi>M</mi><mrow><mi>l</mi><mi>i</mi><mi>m</mi></mrow><mi mathvariant=normal >#</mi></msubsup><mo>:</mo><mtext>lfp</mtext><mspace linebreak=newline ></mspace><msup><mi>F</mi><mi mathvariant=normal >#</mi></msup><mo>:</mo><mtext>abstract interation function</mtext></mrow><annotation encoding="application/x-tex"> M_0^{\#} = M^{\#}\\ M_{k+1}^{\#} = M_k^{\#} \triangledown F^{\#}(M_k^{\#}) \\ M_{lim}^{\#}: \text{lfp} \\ F^{\#}: \text{abstract interation function} </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.2333239999999996em;vertical-align:-0.266308em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999998em;"><span style="top:-2.433692em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.180908em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.266308em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8991079999999999em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8991079999999999em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:1.3266549999999997em;vertical-align:-0.35963899999999993em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.398692em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.35963899999999993em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.2683239999999998em;vertical-align:-0.3013079999999999em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999998em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.180908em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span><span class="mord amsrm">▽</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8991079999999999em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999998em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.180908em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span><span class=mclose >)</span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:1.2683239999999998em;vertical-align:-0.3013079999999999em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999998em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">m</span></span></span></span><span style="top:-3.180908em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >:</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord text"><span class=mord >lfp</span></span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:0.8991079999999999em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8991079999999999em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >:</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord text"><span class=mord >abstract interation function</span></span></span></span></span></span> <h2 id=loop_unrolling ><a href="#loop_unrolling" class=header-anchor >Loop Unrolling</a></h2> <p>In practice, the first iteration&#40;s&#41; of a loop often has a special effect. &#61;&gt; unroll the first <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> iterations, and delays the abstract joins, which introduces a loss of precision.</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><msubsup><mi>M</mi><mn>0</mn><mi mathvariant=normal >#</mi></msubsup><mo>=</mo><msup><mi>M</mi><mi mathvariant=normal >#</mi></msup><mspace linebreak=newline ></mspace><msubsup><mi>M</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow><mi mathvariant=normal >#</mi></msubsup><mo>=</mo><mrow><mo fence=true >{</mo><mtable rowspacing=0.3599999999999999em  columnalign="left left" columnspacing=1em ><mtr><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><msup><mi>F</mi><mi mathvariant=normal >#</mi></msup><mo stretchy=false >(</mo><msubsup><mi>M</mi><mi>k</mi><mi mathvariant=normal >#</mi></msubsup><mo stretchy=false >)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><mtext>if </mtext><mi>k</mi><mo>&lt;</mo><mi>N</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><msubsup><mi>M</mi><mi>k</mi><mi mathvariant=normal >#</mi></msubsup><mi mathvariant=normal >▽</mi><msup><mi>F</mi><mi mathvariant=normal >#</mi></msup><mo stretchy=false >(</mo><msubsup><mi>M</mi><mi>k</mi><mi mathvariant=normal >#</mi></msubsup><mo stretchy=false >)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=false ><mtext>otherwise</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex"> M_0^{\#} = M^{\#}\\ M_{k+1}^{\#} = \begin{cases} F^{\#}(M_k^{\#}) &amp;\text{if } k &lt; N \\ M_k^{\#} \triangledown F^{\#}(M_k^{\#}) &amp;\text{otherwise} \end{cases} </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.2333239999999996em;vertical-align:-0.266308em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999998em;"><span style="top:-2.433692em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.180908em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.266308em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8991079999999999em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8991079999999999em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:1.3266549999999997em;vertical-align:-0.35963899999999993em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.398692em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.35963899999999993em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class=mord ><span class=mtable ><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.69em;"><span style="top:-3.69em;"><span class=pstrut  style="height:3.008em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span><span class=mclose >)</span></span></span><span style="top:-2.25em;"><span class=pstrut  style="height:3.008em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span><span class="mord amsrm">▽</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span><span class=mclose >)</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.19em;"><span></span></span></span></span></span><span class=arraycolsep  style="width:1em;"></span><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.69em;"><span style="top:-3.69em;"><span class=pstrut  style="height:3.008em;"></span><span class=mord ><span class="mord text"><span class=mord >if </span></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.25em;"><span class=pstrut  style="height:3.008em;"></span><span class=mord ><span class="mord text"><span class=mord >otherwise</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span> <h2 id=delayed_widening ><a href="#delayed_widening" class=header-anchor >Delayed Widening</a></h2> <p>Use regular abstract union <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mo>⊔</mo><mi mathvariant=normal >#</mi></msup></mrow><annotation encoding="application/x-tex">\sqcup^{\#}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8491079999999999em;vertical-align:0em;"></span><span class=mord ><span class=mbin >⊔</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span></span></span></span> for the first <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> iterations in the loop.</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><msubsup><mi>M</mi><mn>0</mn><mi mathvariant=normal >#</mi></msubsup><mo>=</mo><msup><mi>M</mi><mi mathvariant=normal >#</mi></msup><mspace linebreak=newline ></mspace><msubsup><mi>M</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow><mi mathvariant=normal >#</mi></msubsup><mo>=</mo><mrow><mo fence=true >{</mo><mtable rowspacing=0.3599999999999999em  columnalign="left left" columnspacing=1em ><mtr><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><msubsup><mi>M</mi><mi>k</mi><mi mathvariant=normal >#</mi></msubsup><msup><mo>⊔</mo><mi mathvariant=normal >#</mi></msup><msup><mi>F</mi><mi mathvariant=normal >#</mi></msup><mo stretchy=false >(</mo><msubsup><mi>M</mi><mi>k</mi><mi mathvariant=normal >#</mi></msubsup><mo stretchy=false >)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><mtext>if </mtext><mi>k</mi><mo>≤</mo><mi>N</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=0  displaystyle=false ><mrow><msubsup><mi>M</mi><mi>k</mi><mi mathvariant=normal >#</mi></msubsup><mi mathvariant=normal >▽</mi><msup><mi>F</mi><mi mathvariant=normal >#</mi></msup><mo stretchy=false >(</mo><msubsup><mi>M</mi><mi>k</mi><mi mathvariant=normal >#</mi></msubsup><mo stretchy=false >)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=0  displaystyle=false ><mtext>otherwise</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex"> M_0^{\#} = M^{\#}\\ M_{k+1}^{\#} = \begin{cases} M_k^{\#} \sqcup^{\#} F^{\#}(M_k^{\#}) &amp;\text{if } k \le N \\ M_k^{\#} \triangledown F^{\#}(M_k^{\#}) &amp;\text{otherwise} \end{cases} </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.2333239999999996em;vertical-align:-0.266308em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999998em;"><span style="top:-2.433692em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.180908em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.266308em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8991079999999999em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8991079999999999em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:1.3266549999999997em;vertical-align:-0.35963899999999993em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.398692em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.35963899999999993em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class=mord ><span class=mtable ><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.69em;"><span style="top:-3.69em;"><span class=pstrut  style="height:3.008em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin ><span class=mbin >⊔</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span><span class=mclose >)</span></span></span><span style="top:-2.25em;"><span class=pstrut  style="height:3.008em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span><span class="mord amsrm">▽</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.9670159999999999em;"><span style="top:-2.3986920000000005em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.3013079999999999em;"><span></span></span></span></span></span></span><span class=mclose >)</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.19em;"><span></span></span></span></span></span><span class=arraycolsep  style="width:1em;"></span><span class=col-align-l ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.69em;"><span style="top:-3.69em;"><span class=pstrut  style="height:3.008em;"></span><span class=mord ><span class="mord text"><span class=mord >if </span></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≤</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.25em;"><span class=pstrut  style="height:3.008em;"></span><span class=mord ><span class="mord text"><span class=mord >otherwise</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span> <h2 id=refinement_of_an_abstract_approximation_of_a_least_fixpoint ><a href="#refinement_of_an_abstract_approximation_of_a_least_fixpoint" class=header-anchor >Refinement of an Abstract Approximation of a Least Fixpoint</a></h2> <p>Given a concrete fixpoint of the concrete function <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span>, applying <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>G</mi><mi mathvariant=normal >#</mi></msup></mrow><annotation encoding="application/x-tex">G^{\#}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8491079999999999em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span></span></span></span> again to any sound approximation of this concrete fixpoint produces another sound approximation. <br />This means that, once the algorithm stabilizes, we can simply compute one more iteration in the abstract level and still obtain a sound approximation of the states at the loop head.</p> <pre><code class=language-plaintext >x &#61; 0;
while &#40;rand&#40;&#41; &amp;&amp; x &lt; 50&#41; &#123;
  x &#43;&#61; 1;
&#125;</code></pre> <ul> <li><p>after abstract iteration: <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >{</mo><mi>x</mi><mo>→</mo><mo stretchy=false >[</mo><mn>0</mn><mo separator=true >,</mo><mo>+</mo><mi mathvariant=normal >∞</mi><mo stretchy=false >)</mo><mo stretchy=false >}</mo></mrow><annotation encoding="application/x-tex">\{ x \rightarrow [0, +\infty) \}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >{</span><span class="mord mathnormal">x</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >→</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >+</span><span class=mord >∞</span><span class=mclose >)</span><span class=mclose >}</span></span></span></span></p> <li><p>after additional one <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>F</mi><mi mathvariant=normal >#</mi></msup></mrow><annotation encoding="application/x-tex">F^{\#}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8491079999999999em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">#</span></span></span></span></span></span></span></span></span></span></span></span> application: <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >{</mo><mi>x</mi><mo>→</mo><mo stretchy=false >[</mo><mn>1</mn><mo separator=true >,</mo><mn>50</mn><mo stretchy=false >]</mo><mo stretchy=false >}</mo></mrow><annotation encoding="application/x-tex">\{ x \rightarrow [1, 50] \}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >{</span><span class="mord mathnormal">x</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >→</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >1</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >5</span><span class=mord >0</span><span class=mclose >]</span><span class=mclose >}</span></span></span></span></p> <li><p>merged with the entry state: <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >{</mo><mi>x</mi><mo>→</mo><mo stretchy=false >[</mo><mn>0</mn><mo separator=true >,</mo><mn>50</mn><mo stretchy=false >]</mo><mo stretchy=false >}</mo></mrow><annotation encoding="application/x-tex">\{ x \rightarrow [0, 50] \}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >{</span><span class="mord mathnormal">x</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >→</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >5</span><span class=mord >0</span><span class=mclose >]</span><span class=mclose >}</span></span></span></span></p> </ul> <h1 id=sparse_analysis ><a href="#sparse_analysis" class=header-anchor >Sparse Analysis</a></h1> <ul> <li><p>spatial sparsity: usually, each program portion &#40;an expression, a statement, a sequence of statements, a procedure, a loop body, etc.&#41; access only a small part of the whole memory</p> <li><p>temporal sparsity: after the definition &#40;write&#41;of a memory location, its use &#40;read&#41; is not immediate but a while later</p> </ul> <h2 id=exploiting_spartial_sparsity ><a href="#exploiting_spartial_sparsity" class=header-anchor >Exploiting Spartial Sparsity</a></h2> <h1 id=modular_analysis ><a href="#modular_analysis" class=header-anchor >Modular Analysis</a></h1> <p>E.g.:</p> <ul> <li><p>unit of module analysis: procedure &#40;function&#41;</p> <li><p>first, separately analyze procedures by &quot;parameterizing&quot; its call context</p> <ul> <li><p>symbolic pre-state → symbolic post-state</p> </ul> <li><p>later, at link time, the global behavior of the program is obtained by instantiating parameterized pre/post states with the actual calling context, and stitching the procedure summaries</p> </ul> <p>xref: <a href="https://research.fb.com/inferbo-infer-based-buffer-overrun-analyzer/">https://research.fb.com/inferbo-infer-based-buffer-overrun-analyzer/</a></p> <h1 id=backward_analysis ><a href="#backward_analysis" class=header-anchor >Backward Analysis</a></h1> <p>We can actually design static analyses to compute over-approximate <em>pre-conditions from a post-condition</em>.x</p> <h2 id=forward_semantics_and_backward_semantics ><a href="#forward_semantics_and_backward_semantics" class=header-anchor >Forward Semantics and backward Semantics</a></h2> <p>e.g. Boolean filter <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant=script >F</mi><mi>B</mi></msub></mrow><annotation encoding="application/x-tex">ℱ_B</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.85em;vertical-align:-0.15em;"></span><span class=mord ><span class=mord ><span class="mord mathscr" style="margin-right:0.13634em;">F</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> reconciled.</p> <p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant=script >F</mi><mi>B</mi></msub></mrow><annotation encoding="application/x-tex">ℱ_B</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.85em;vertical-align:-0.15em;"></span><span class=mord ><span class=mord ><span class="mord mathscr" style="margin-right:0.13634em;">F</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>: takes as inputs a boolean expression <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> and a set of states, filters out the states such that <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> evaluate to false, keeping only those states such that <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> evaluates to true.</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><msub><mi mathvariant=script >F</mi><mi>B</mi></msub><mo stretchy=false >(</mo><mi>M</mi><mo stretchy=false >)</mo><mo>=</mo><mo stretchy=false >{</mo><mi>m</mi><mo>∈</mo><mi>M</mi><mi mathvariant=normal >∣</mi><mo mathvariant=normal  lspace=0em  rspace=0em >⟦</mo><mi>B</mi><mo mathvariant=normal  lspace=0em  rspace=0em >⟧</mo><mo stretchy=false >(</mo><mi>m</mi><mo stretchy=false >)</mo><mo>=</mo><mtext>true</mtext><mo stretchy=false >}</mo></mrow><annotation encoding="application/x-tex"> ℱ_B(M) = \{ m \in M | \llbracket B \rrbracket(m) = \text{true} \} </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class=mord ><span class="mord mathscr" style="margin-right:0.13634em;">F</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >{</span><span class="mord mathnormal">m</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=mord >∣</span><span class=mopen ><span class=mopen >[</span><span class=mspace  style="margin-right:-0.17777777777777778em;"></span><span class=mopen >[</span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose ><span class=mclose >]</span><span class=mspace  style="margin-right:-0.17777777777777778em;"></span><span class=mclose >]</span></span><span class=mopen >(</span><span class="mord mathnormal">m</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class=mord >true</span></span><span class=mclose >}</span></span></span></span></span> <p>can be re-defined with <em>backward semantics</em> <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo mathvariant=normal  lspace=0em  rspace=0em >⟦</mo><mi>B</mi><msub><mo mathvariant=normal  lspace=0em  rspace=0em >⟧</mo><mtext mathvariant=bold >bwd</mtext></msub></mrow><annotation encoding="application/x-tex">\llbracket B \rrbracket_{\textbf{bwd}}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.0497em;vertical-align:-0.29969999999999997em;"></span><span class=mopen ><span class=mopen >[</span><span class=mspace  style="margin-right:-0.17777777777777778em;"></span><span class=mopen >[</span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose ><span class=mclose ><span class=mclose >]</span><span class=mspace  style="margin-right:-0.17777777777777778em;"></span><span class=mclose >]</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.18640799999999996em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">bwd</span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.29969999999999997em;"><span></span></span></span></span></span></span></span></span></span>:</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mo mathvariant=normal  lspace=0em  rspace=0em >⟦</mo><mi>B</mi><msub><mo mathvariant=normal  lspace=0em  rspace=0em >⟧</mo><mtext mathvariant=bold >bwd</mtext></msub><mo stretchy=false >(</mo><mi>v</mi><mo stretchy=false >)</mo><mo>=</mo><mo stretchy=false >{</mo><mi>m</mi><mo>∈</mo><mi>M</mi><mi mathvariant=normal >∣</mi><mo mathvariant=normal  lspace=0em  rspace=0em >⟦</mo><mi>B</mi><mo mathvariant=normal  lspace=0em  rspace=0em >⟧</mo><mo stretchy=false >(</mo><mi>m</mi><mo stretchy=false >)</mo><mo>=</mo><mi>v</mi><mo stretchy=false >}</mo><mspace linebreak=newline ></mspace><msub><mi mathvariant=script >F</mi><mi>B</mi></msub><mo stretchy=false >(</mo><mi>M</mi><mo stretchy=false >)</mo><mo>=</mo><mi>M</mi><mo>∩</mo><mo mathvariant=normal  lspace=0em  rspace=0em >⟦</mo><mi>B</mi><msub><mo mathvariant=normal  lspace=0em  rspace=0em >⟧</mo><mtext mathvariant=bold >bwd</mtext></msub><mo stretchy=false >(</mo><mtext>true</mtext><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex"> \llbracket B \rrbracket_{\textbf{bwd}}(v) = \{ m \in M | \llbracket B \rrbracket(m) = v \} \\ ℱ_B(M) = M \cap \llbracket B \rrbracket_{\textbf{bwd}}(\text{true}) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.0497em;vertical-align:-0.29969999999999997em;"></span><span class=mopen ><span class=mopen >[</span><span class=mspace  style="margin-right:-0.17777777777777778em;"></span><span class=mopen >[</span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose ><span class=mclose ><span class=mclose >]</span><span class=mspace  style="margin-right:-0.17777777777777778em;"></span><span class=mclose >]</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.18640799999999996em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">bwd</span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.29969999999999997em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >{</span><span class="mord mathnormal">m</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=mord >∣</span><span class=mopen ><span class=mopen >[</span><span class=mspace  style="margin-right:-0.17777777777777778em;"></span><span class=mopen >[</span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose ><span class=mclose >]</span><span class=mspace  style="margin-right:-0.17777777777777778em;"></span><span class=mclose >]</span></span><span class=mopen >(</span><span class="mord mathnormal">m</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class=mclose >}</span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class=mord ><span class="mord mathscr" style="margin-right:0.13634em;">F</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∩</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.0497em;vertical-align:-0.29969999999999997em;"></span><span class=mopen ><span class=mopen >[</span><span class=mspace  style="margin-right:-0.17777777777777778em;"></span><span class=mopen >[</span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose ><span class=mclose ><span class=mclose >]</span><span class=mspace  style="margin-right:-0.17777777777777778em;"></span><span class=mclose >]</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.18640799999999996em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">bwd</span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.29969999999999997em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord text"><span class=mord >true</span></span><span class=mclose >)</span></span></span></span></span> <p>The semantics <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo mathvariant=normal  lspace=0em  rspace=0em >⟦</mo><mi>B</mi><msub><mo mathvariant=normal  lspace=0em  rspace=0em >⟧</mo><mtext mathvariant=bold >bwd</mtext></msub></mrow><annotation encoding="application/x-tex">\llbracket B \rrbracket_{\textbf{bwd}}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.0497em;vertical-align:-0.29969999999999997em;"></span><span class=mopen ><span class=mopen >[</span><span class=mspace  style="margin-right:-0.17777777777777778em;"></span><span class=mopen >[</span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mclose ><span class=mclose ><span class=mclose >]</span><span class=mspace  style="margin-right:-0.17777777777777778em;"></span><span class=mclose >]</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.18640799999999996em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">bwd</span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.29969999999999997em;"><span></span></span></span></span></span></span></span></span></span> is defined in <em>backward</em> style, as it takes a value &#40;i.e. a result&#41; and returns the set of states that lead to this value.</p> <h2 id=possible_applications ><a href="#possible_applications" class=header-anchor >Possible Applications</a></h2> <p>Example program: given the abstract post-condition <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >{</mo><msub><mi>x</mi><mn>0</mn></msub><mo>↦</mo><mi mathvariant=normal >⊤</mi><mo separator=true >,</mo><msub><mi>x</mi><mn>1</mn></msub><mo>↦</mo><mo stretchy=false >[</mo><mo>−</mo><mi mathvariant=normal >∞</mi><mo separator=true >,</mo><mo>−</mo><mn>3</mn><mo stretchy=false >]</mo><mo stretchy=false >}</mo></mrow><annotation encoding="application/x-tex">\{x_0 \mapsto \top, x_1 \mapsto [-\infty, -3]\}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >{</span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >↦</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class=mord >⊤</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >↦</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >−</span><span class=mord >∞</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >−</span><span class=mord >3</span><span class=mclose >]</span><span class=mclose >}</span></span></span></span>, a backward-analysis returns an empty set &#40;i.e. no pre-condition exists&#41;</p> <pre><code class=language-plaintext >int x₀, x₁;
input&#40;x₀&#41;;
if &#40;x₀ &gt; 0&#41; &#123;
  x₁ :&#61; x₀;
&#125; else &#123;
  x₁ :&#61; -x₀;
&#125;</code></pre> <p>By computing an over-approximation of the sets of states leading to some given behavior, backward analysis:</p> <ul> <li><p>provides a <em>necessary</em> condition for this behavior to occur</p> <li><p>dually, also computes a <em>sufficient</em> condition for a given behavior <em>not</em> to occur</p> </ul> <h2 id=precision_refinement_by_combined_forward_and_backward_analysis ><a href="#precision_refinement_by_combined_forward_and_backward_analysis" class=header-anchor >Precision Refinement by Combined Forward and Backward Analysis</a></h2> <pre><code class=language-plaintext >L0  ...
    if &#40;y ≤ x&#41; &#123;
L1    ...
      if &#40;x ≤ 4&#41; &#123;
L2      ...
        if &#40;5 ≤ y&#41; &#123;
L3        ...</code></pre> <ul> <li><p>non-relational forward-analysis can&#39;t prove <code>L3</code> is actually not reachable</p> <li><p>backward analysis:</p> <ul> <li><p>assumes the abstract state <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >{</mo><mi>x</mi><mo>↦</mo><mo stretchy=false >(</mo><mo>−</mo><mi mathvariant=normal >∞</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mn>4</mn><mo stretchy=false >]</mo><mo separator=true >,</mo><mi>y</mi><mo>↦</mo><mo stretchy=false >[</mo><mn>5</mn><mo separator=true >,</mo><mo>+</mo><mi mathvariant=normal >∞</mi><mo stretchy=false >)</mo><mo stretchy=false >]</mo><mo stretchy=false >}</mo></mrow><annotation encoding="application/x-tex">\{x \mapsto (-\infty), 4], y \mapsto [5, +\infty) ]\}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >{</span><span class="mord mathnormal">x</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >↦</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class=mord >−</span><span class=mord >∞</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >4</span><span class=mclose >]</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >↦</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >5</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >+</span><span class=mord >∞</span><span class=mclose >)</span><span class=mclose >]</span><span class=mclose >}</span></span></span></span></p> <li><p>back-propagated to <code>if &#40;y ≤ x&#41;</code>, we obtain the empty pre-condition, which indicates the assumed abstract post-state is not feasible</p> </ul> </ul> <p>Backward analysis can be applied very locally to refine the analysis of tests, etc. as <a href="https://github.com/JuliaLang/julia/blob/5aca7a37be174ad9f4b28d3586ba9cc112c12d75/base/compiler/abstractinterpretation.jl#L1003-L1069">Julia&#39;s compiler does</a>.</p> <div class=page-foot > <div class=copyright > &copy; Shuhei Kadowaki. Last modified: 2021-06-01. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> <script src="/libs/highlight/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: ' '});</script> <script src="/libs/collapsible.js"></script> <script src="/libs/lodash.js"></script> <script src="/libs/onscroll.js"></script> <script> document.ontouchstart = () => {} </script>