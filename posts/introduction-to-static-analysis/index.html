<!DOCTYPE html> <html lang=en > <meta charset=UTF-8  /> <meta name=viewport  content="width=device-width, initial-scale=1" /> <title>Introduction to Static Analysis</title> <meta property="og:url" content="posts/introduction-to-static-analysis" /> <meta property="og:title" content="Introduction to Static Analysis" /> <meta property="og:image" content="assets/what_about_the_dead_fish.jpeg" /> <meta property="og:type" content=article  /> <meta property="og:description" content="a random note taken during the reading "Introduction to Static Analysis"" /> <meta property="og:published_time" content=2021-04-20  /> <meta name="twitter:card" content=summary  /> <meta name="twitter:site" content="@kdwkshh" /> <meta name="twitter:creator" content="@kdwkshh" /> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/atom-one-light.min.css"> <link rel=icon  href="/assets/what_about_the_dead_fish.jpeg" /> <link rel=stylesheet  href="/css/aviatesk.css" /> <navigation-bar><div class=navigation-info  id=site-info ><a href="/">Shuhei Kadowaki's homepage</a></div></navigation-bar><navigation-bar class=navigation-sticky ><navigation-hover> <a class=navigation-info  id=page-info >$ Introduction to Static Analysis</a> <div class=franklin-toc ><ol><li><a href="#1_program_analysis"> 1. 1 Program Analysis</a><li><a href="#2_a_gentle_introduction_to_static_analysis"> 2. 2 A Gentle Introduction to Static Analysis</a></ol></div> </navigation-hover> <navigation-hover> <img src="/assets/terminal.svg" id=terminal-icon  /> <ul id=site-cd > <li><a style="text-decoration: none" href="/">cd ~</a> <li><a style="text-decoration: none" href="/posts">cd posts</a> <li><a style="text-decoration: none" href="https://github.com/aviatesk">cd <i class="fab fa-github"></i></a> <li><a style="text-decoration: none" href="https://twitter.com/kdwkshh">cd <i class="fab fa-twitter"></i></a> <li><a style="text-decoration: none" href="javascript:history.back()">cd ..</a> </ul> </navigation-hover> </navigation-bar> <div class=franklin-content ><div class=blog-info > <blogtitle> Introduction to Static Analysis <a type="application/rss+xml" href="https://aviatesk.github.io/feed.xml" style="float: right"> <i class="fas fa-rss"></i> </a> </blogtitle> <div class=published-date > 20 April 2021 </div> </div> <p>This is a random note I took while reading <a href="https://mitpress.mit.edu/books/introduction-static-analysis">&quot;Introduction to Static Analyis – An Abstract Interpretation Perspective&quot;</a>, by Xavier Rival and Kwangkeun Yi.</p> <h1 id=1_program_analysis ><a href="#1_program_analysis" class=header-anchor >1 Program Analysis</a></h1> <h2 id=13_concepts_in_program_analysis ><a href="#13_concepts_in_program_analysis" class=header-anchor >1.3 Concepts in Program Analysis</a></h2> <h3 id=132_static_versus_dynamic ><a href="#132_static_versus_dynamic" class=header-anchor >1.3.2 Static versus Dynamic</a></h3> <p>Motivations for static analysis</p> <ul> <li><p>&quot;before-use&quot; analysis</p> <li><p>analysis of a program that might be never terminating</p> </ul> <h3 id=133_a_hard_limit_uncomputability ><a href="#133_a_hard_limit_uncomputability" class=header-anchor >1.3.3 A Hard Limit: Uncomputability</a></h3> <div class=theorem ><div class=admonition-header >Theorem: Halting problem</div> <div class=admonition-body >The halting problem consists in finding an algorithm <code>halt</code> such that, <div class=theorem-quote >for every program <code>p</code> ∈ 𝙻, <code>halt</code>&#40;<code>p</code>&#41; &#61; <strong>true</strong> <em>if and only if</em> <code>p</code> terminates</div></div></div> <br/> <div class=theorem ><div class=admonition-header >Theorem: Rice theorem</div> <div class=admonition-body >Let 𝙻 be a Turing-complete language, and let 𝒫 be a nontrivial semantic property of programs of 𝙻. There exists no algorithm such that, <div class=theorem-quote >for every program <code>p</code> ∈ 𝙻, it returns <strong>true</strong> <em>if and only if</em> <code>p</code> satisfies the semantic property 𝒫.</div></div></div> <p>So how to design a program analysis ?</p> <ul> <li><p>target a restricted class of programs: give up the &quot;for every program <code>p</code>&quot; part</p> <li><p>not always being able to provide an exact answer: give up the &quot;<em>if and only if</em>&quot; part</p> </ul> <h3 id=135_approximation_soundness_and_completeness ><a href="#135_approximation_soundness_and_completeness" class=header-anchor >1.3.5 Approximation: Soundness and Completeness</a></h3> <p>Let <code>analysis</code> to be an analysis tool to determine whether this property holds: <div class=theorem-quote >for every program <code>p</code> ∈ 𝙻, <code>analysis&#40;p&#41;</code> &#61; <strong>true</strong> ⇔ <code>p</code> satisfies 𝒫.</div> can be decomposed into a pair of implications: <div class=theorem-quote >for every program <code>p</code> ∈ 𝙻, <code>analysis&#40;p&#41;</code> &#61; <strong>true</strong> ⇒ <code>p</code> satisfies 𝒫.<br/> for every program <code>p</code> ∈ 𝙻, <code>analysis&#40;p&#41;</code> &#61; <strong>true</strong> ⇐ <code>p</code> satisfies 𝒫.</div></p> <h4 id=soundness ><a href="#soundness" class=header-anchor >Soundness</a></h4> <p>A <em>sound</em> program analysis satisfies the first implication.</p> <div class=definition ><div class=admonition-header >Definition: Soundness <a id=soundness  class=anchor ></a></div> <div class=admonition-body >The program analyzer <code>analysis</code> is <em>sound</em> with respect to property 𝒫 whenever, for any program <code>p</code> ∈ 𝙻, <code>analysis&#40;p&#41;</code> &#61; <strong>true</strong> implies that <code>p</code> satisfies property 𝒫.</div></div> <p>A sound analysis will reject all programs that do not satisfy 𝒫.</p> <div class=example ><div class=admonition-header >Example: Strong Typing</div> <div class=admonition-body ><ul> <li><p>good: well-typed programs will not present certain classes of errors</p> <li><p>bad: certain programs that will never crash may still be rejected</p> </ul></div></div> <p>The soundness is easy to meet; we can simply reject any program. Therefore, in practice, the design of a sound analysis will try to give a conclusive answer as often as possible.</p> <h4 id=completeness ><a href="#completeness" class=header-anchor >Completeness</a></h4> <div class=definition ><div class=admonition-header >Definition: Completeness</div> <div class=admonition-body >The program analyzer <code>analysis</code> is <em>complete</em> with respect to property 𝒫 whenever, for every program <code>p</code> ∈ 𝙻, such that <code>p</code> satisfies 𝒫, <code>analysis&#40;p&#41;</code> &#61; <strong>true</strong>.</div></div> <p>The completeness is also easy to meet; we can simply never reject any program. To be useful, a complete analyzer should often reject programs that don&#39;t satisfy the property of interest.</p> <h4 id=soundness_vs_completeness ><a href="#soundness_vs_completeness" class=header-anchor >Soundness vs. Completeness</a></h4> <p><img src="./assets/1.3.5-soundness-vs-completeness.png" alt=soundness-vs-completeness  /></p> <div class=caption >Soundness vs. Completeness &#40;adapted from Figure 1.2 from the book&#41;</div> <p>When a program analysis is automatic, it is either unsound or incomplete.</p> <h2 id=14_families_of_program_analysis_techniques ><a href="#14_families_of_program_analysis_techniques" class=header-anchor >1.4 Families of Program Analysis Techniques</a></h2> <ul> <li><p><em><strong>Testing</strong></em>: check a finite set of finite program executions</p> <ul> <li><p>unsound and complete</p> <li><p>good: easy, very close to the actual runtime</p> <li><p>bad: may not terminate, may not be deterministic &#40;e.g. concurrent programs&#41;, not feasible to fully observe all executions</p> <li><p>xref: <a href="https://en.wikipedia.org/wiki/Concolic_testing">concolic testing</a> to improve coverage and accuracy</p> </ul> <li><p><em><strong>Assisted Proof</strong></em>: rely on user-supplied invariants</p> <ul> <li><p>2 basic approaches:</p> <ul> <li><p>based on theorem-proving tools &#40;e.g. <a href="https://coq.inria.fr/">Coq</a>&#41;</p> <li><p>leverages a tool infrastructure to prove a specific set of properties over programs in a specific language &#40;e.g. <a href="https://github.com/dafny-lang/dafny">dafny</a>&#41;</p> </ul> <li><p>good: often sound to respect to the model of the program semantics used for the proof, also complete up to the abilities of the proof assistant to verify proofs</p> <li><p>bad: non-automated, requires significant time and expertise</p> </ul> <li><p><em><strong>&#40;Finite-State&#41; Model Checking</strong></em>: exhaustive exploration of finite systems</p> <ul> <li><p>use some kind of exhaustive &#40;but efficient&#41; enumeration and determine whether all executions satisfy the property of interest</p> <li><p>good: automatic, sound and complete <em>with respect to the model</em></p> <li><p>caveat: verification is performed at the model level and not at the program level</p> <ul> <li><p>a model of the program needs to be constructed &#40;manually or by some automatic frontend means&#41;</p> <li><p>&#61;&gt; the checking of the synthesized model may be either incomplete or unsound, <em>with respect to the input program</em> &#40;incompleteness or unsoundness is often introduced in the modeling stage&#41;</p> </ul> <li><p>often conservative: sound and incomplete with respect to the input program</p> </ul> <li><p><em><strong>Conservative Static Analysis</strong></em>: automatic, sound, and incomplete approach</p> <ul> <li><p>idea: finitely over-approximate the set of all program behaviors using a specific set of properties</p> <li><p>many existing trials</p> <ul> <li><p><a href="https://www.absint.com/astree/index.htm">Astrée</a>: proves the absence of run-time errors in embedded C codes</p> <li><p><a href="https://github.com/facebook/infer">Infer</a>: detects memory issues in C/C&#43;&#43;/Java programs</p> <li><p><a href="https://www.verifysoft.com/en_julia_static_analyzer.html">JULIA</a>: discovers security issues in Java programs</p> </ul> <li><p>often sound and incomplete</p> <li><p>we can think of unsound and complete static analysis</p> <ul> <li><p>will answer very different kind of question</p> <li><p>may guarantee that a given subset of the executions of the program can be observed, while it doesn&#39;t prove properties such as the absence of run-time errors</p> </ul> </ul> <li><p><em><strong>bug finding</strong></em>: Relaxed error search, automatic, unsound, incomplete, based on heuristics</p> <ul> <li><p>simplify the design and implementation of analysis tools and to provide lighter-weight verification algorithms</p> <li><p>can be used to improve the quality of non-critical programs at a low cost</p> <li><p>examples:</p> <ul> <li><p><a href="https://github.com/aviatesk/JET.jl">JET.jl</a>: JET is unsound and incomplete bug finder for Julia, thus falls into this category &#40;as of now, at least&#41;</p> <li><p><a href="https://www.cprover.org/cbmc/">CBMC</a>: extracts models from C/C&#43;&#43;/Java programs and performs bounded model checking &#40;i.e. explores models only up to fixed depths&#41;</p> </ul> </ul> </ul> <table><p> <tr><p> <th> <th><p>automatic</p> <th><p>soundness</p> <th><p>completeness</p> <th><p>object</p> <th><p>when</p> </p> <tr><p> <td><p>testing</p> <td><p>No</p> <td><p>No</p> <td><p>Yes</p> <td><p>Program</p> <td><p>Dynamic</p> </p> <tr><p> <td><p>Assisted Proof</p> <td><p>No</p> <td><p>Yes</p> <td><p>Yes/No</p> <td><p>Model</p> <td><p>Static</p> </p> <tr><p> <td><p>Model Checking of finite-state model</p> <td><p>Yes</p> <td><p>Yes</p> <td><p>Yes</p> <td><p>Finite Model</p> <td><p>Static</p> </p> <tr><p> <td><p>Model Checking at program level</p> <td><p>Yes</p> <td><p>Yes</p> <td><p>No</p> <td><p>Program</p> <td><p>Static</p> </p> <tr><p> <td><p>Conservative Static Analysis</p> <td><p>Yes</p> <td><p>Yes</p> <td><p>No</p> <td><p>Program</p> <td><p>Static</p> </p> <tr><p> <td><p>bug finding</p> <td><p>Yes</p> <td><p>No</p> <td><p>No</p> <td><p>Program</p> <td><p>Static</p> </p> </p> </table> <div class=caption >an overview of program analysis techniques</div> <h1 id=2_a_gentle_introduction_to_static_analysis ><a href="#2_a_gentle_introduction_to_static_analysis" class=header-anchor >2 A Gentle Introduction to Static Analysis</a></h1> <h2 id=22_abstraction ><a href="#22_abstraction" class=header-anchor >2.2 Abstraction</a></h2> <div class=example ><div class=admonition-header >Example: Semantic Property of Interest: Reachability</div> <div class=admonition-body ><p>Realistic application for C programs:</p> <ul> <li><p>where it dereference a null pointer</p> <li><p>where it writes over a dangling pointer</p> </ul></div></div> <br/> <div class=definition ><div class=admonition-header >Definition: Abstraction</div> <div class=admonition-body >We call <em>abstraction</em> a set 𝒜 of logical properties of program states, which are called <em>abstract properties</em> or <em>abstract elements</em>. A set of abstract properties is called an <em>abstract domain</em>.</div></div> <br/> <div class=definition ><div class=admonition-header >Definition: Concretization</div> <div class=admonition-body >Given an abstract element <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> of 𝒜, we call <em>cocnretization</em> the set of program states that satisfy it. We denote it by <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo stretchy=false >(</mo><mi>a</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\gamma(a)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathnormal">a</span><span class=mclose >)</span></span></span></span></div></div> <p>Abstraction is not unique – some abstractions yield simpler computer representations and less costly algorithms than others: <div class=definition ><div class=admonition-header >Definition: Best Abstraction</div> <div class=admonition-body ><p>We say that <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> is the <em>best abstraction</em> of the concrete set <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> if and only if</p> <ul> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>∈</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>a</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">S \in \gamma(a)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathnormal">a</span><span class=mclose >)</span></span></span></span>, and</p> <li><p>for any <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup></mrow><annotation encoding="application/x-tex">a^{\prime}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.751892em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> that is an abstraction of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> &#40;i.e., <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>∈</mo><mi>γ</mi><mo stretchy=false >(</mo><msup><mi>a</mi><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">S \in \gamma(a^{\prime})</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mclose >)</span></span></span></span>&#41;, then <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup></mrow><annotation encoding="application/x-tex">a^{\prime}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.751892em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> is a coarser abstraction than <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span></p> </ul> <p>If <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> has a best abstraction, then the best abstraction is unique. When it is defined, we let α denote the function that maps any concrete set of states into the best abstraction of that set of states.</p></div></div></p> <p>The best abstraction may not be available. But the impossibility to define or compute the best abstraction is in no way a serious flow for the analysis, as it just lead to conservative but sound results.</p> <p>Think of the &quot;reachability&quot; semantic property of a program that acts on 2D space: <table><p> <tr><p> <th><p>abstraction</p> <th><p>idea</p> <th> </p> <tr><p> <td><p>intervals abstraction</p> <td><p>the abstract elements of the interval abstract are defined by constraints of the form <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>l</mi><mi mathvariant=normal >X</mi></msub><mo>≤</mo><mrow><mi mathvariant=normal >X</mi><mo separator=true >,</mo><mrow><mi mathvariant=normal >X</mi><mo>≤</mo><msub><mi mathvariant=normal >h</mi><mi mathvariant=normal >X</mi></msub><mo separator=true >,</mo><msub><mi mathvariant=normal >l</mi><mi mathvariant=normal >Y</mi></msub><mo>≤</mo><mrow><mi mathvariant=normal >Y</mi><mo separator=true >,</mo><mrow><mi mathvariant=normal >Y</mi><mo>≤</mo><msub><mi mathvariant=normal >h</mi><mi mathvariant=normal >Y</mi></msub></mrow></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">l_{\rm{X}} ≤ \rm{X}, \rm{X} ≤ h_{\rm{X}}, l_{\rm{Y}} ≤ \rm{Y}, \rm{Y} ≤ h_{\rm{Y}}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.84444em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">X</span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≤</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class=mord ><span class=mord ><span class="mord mathrm">X</span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class=mord ><span class="mord mathrm">X</span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≤</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathrm">h</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">X</span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathrm">l</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight" style="margin-right:0.025em;">Y</span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≤</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class=mord ><span class="mord mathrm" style="margin-right:0.025em;">Y</span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class=mord ><span class="mord mathrm" style="margin-right:0.025em;">Y</span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≤</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathrm">h</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight" style="margin-right:0.025em;">Y</span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> <td><ul> <li><p>always has the best abstraction</p> <li><p><strong>non-relational</strong></p> <li><p>simpler, more efficient representation</p> </ul> </p> <tr><p> <td><p>convex polyhedra abstraction</p> <td><p>the abstract elements of the convex polyhedra abstract domain are conjunctions of linear inequality constraints, e.g.</p> <ul> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >X</mi><mo>−</mo><mrow><mi mathvariant=normal >Y</mi><mo>≥</mo><mo>−</mo><mn>0.5</mn></mrow></mrow><annotation encoding="application/x-tex">\rm{X} - \rm{Y} ≥ -0.5</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8193em;vertical-align:-0.13597em;"></span><span class=mord ><span class=mord ><span class="mord mathrm">X</span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mord ><span class=mord ><span class="mord mathrm" style="margin-right:0.025em;">Y</span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≥</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >−</span><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mord mathrm">5</span></span></span></span></span></span></p> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >X</mi><mo>≤</mo><mn>2.5</mn></mrow><annotation encoding="application/x-tex">\rm{X} ≤ 2.5 </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8193em;vertical-align:-0.13597em;"></span><span class=mord ><span class=mord ><span class="mord mathrm">X</span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≤</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathrm">2</span><span class="mord mathrm">.</span><span class="mord mathrm">5</span></span></span></span></span></p> </ul> <td><ul> <li><p>may not have the best abstraction</p> <li><p><strong>relational</strong></p> <li><p>more expressive, but more complex and less efficient</p> </ul> </p> </p> </table> </p> <h2 id=23_a_computable_abstract_semantics_compositional_style ><a href="#23_a_computable_abstract_semantics_compositional_style" class=header-anchor >2.3 A Computable Abstract Semantics: Compositional Style</a></h2> <p>A compositional approach to static analysis: to analyze a sequence of commands, &quot;composes&quot; the analyses of each sub-command</p> <h3 id=231_abstraction_of_initialization ><a href="#231_abstraction_of_initialization" class=header-anchor >2.3.1 Abstraction of Initialization</a></h3> <h3 id=232_abstraction_of_post-conditions ><a href="#232_abstraction_of_post-conditions" class=header-anchor >2.3.2 Abstraction of Post-Conditions</a></h3> <ul> <li><p><em>abstract pre-condition</em>: an abstraction of the states that can be observed <em>before</em> a program fragment</p> <li><p><em>abstract post-condition</em>: an abstraction of the states that can be observed <em>after</em> that program fragment</p> <li><p><em>transfer function</em>: an abstract operation that accounts for the effect of a basic program statement</p> </ul> <div class=definition ><div class=admonition-header >Definition: Sound analysis by abstract interpretation in compositional style</div> <div class=admonition-body >We consider a static analysis function <code>analysis</code> that inputs a program and an abstract pre-condition and returns an abstract post-condition. We say that <code>analysis</code> is sound if and only if the following condition holds: <div class=theorem-quote >If an execution of <code>p</code> from a state &#40;<code>x</code>, <code>y</code>&#41; generates that state &#40;<code>x′</code>, <code>y′</code>&#41;,<br/> then for all abstract element <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> such that &#40;<code>x</code>, <code>y</code>&#41; ∈ γ&#40;<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span>&#41;,<br/> &#40;<code>x′</code>, <code>y′</code>&#41; ∈ γ&#40;<code>analysis</code>&#40;<code>p</code>, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span>&#41;&#41;</div></div></div> <p>The definition above entails that:</p> <ul> <li><p>the analysis will produce <strong>sound</strong> results in the sense of <a href="#soundness">the soundness definition</a> when considering the property 𝒫 of interest. Since the analysis over-approximates the states the program may reach, if it claims that 𝒫 is not reachable, then we are sure that the program cannot reach 𝒫.</p> <li><p>the analysis is not complete in the sense of <a href="#soundness">the soundness definition</a>, since it accepts analyses that produce coarse over-approximations</p> </ul> <h3 id=233_abstract_of_non-deterministic_choice ><a href="#233_abstract_of_non-deterministic_choice" class=header-anchor >2.3.3 Abstract of Non-Deterministic Choice</a></h3> <p>Abstract interpretation will produce an over-approximation of both cases, as the <code>union</code> of two sets of abstract elements.</p> <div class=note ><div class=admonition-header >Note</div> <div class=admonition-body >This is another reason for the incompleteness of the analysis: it cannot express precise disjunctive properties &#40;the several solutions will be presented in section 5.1&#41;.</div></div> <h3 id=234_abstraction_of_non-deterministic_iteration ><a href="#234_abstraction_of_non-deterministic_iteration" class=header-anchor >2.3.4 Abstraction of Non-Deterministic Iteration</a></h3> <div class=note ><div class=admonition-header >An interesting fact about static analysis</div> <div class=admonition-body >No analysis can ensure that an iteration will terminate with the abstract post-condition &#40;even if computed&#41;, because the halting problem cannot be computed exactly in finite time.</div></div> <ul> <li><p>setup:</p> <ul> <li><p>program <code>p</code> consists of a loop with body <code>b</code>: <code>p</code> <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>:</mo><mo>:</mo><mo>=</mo></mrow><annotation encoding="application/x-tex">::=</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class=mrel >:</span></span><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class=mrel >:</span></span><span class=base ><span class=strut  style="height:0.36687em;vertical-align:0em;"></span><span class=mrel >=</span></span></span></span> <code>iter&#123; b &#125;</code></p> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant=monospace >b</mi><mi mathvariant=monospace >k</mi></msub></mrow><annotation encoding="application/x-tex">\tt{b}_k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7611100000000001em;vertical-align:-0.15em;"></span><span class=mord ><span class=mord ><span class=mord ><span class="mord mathtt">b</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.27777700000000005em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathtt mtight">k</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>: program that iterates <code>b</code> <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> times</p> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant=monospace >p</mi><mi mathvariant=monospace >k</mi></msub></mrow><annotation encoding="application/x-tex">\tt{p}_k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.65278em;vertical-align:-0.22222em;"></span><span class=mord ><span class=mord ><span class=mord ><span class="mord mathtt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.27777700000000005em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathtt mtight">k</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>: program that iterates <code>b</code> at most <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> times</p> <ul> <li><p>implies: <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant=monospace >p</mi><mrow><mi mathvariant=monospace >k</mi><mo>+</mo><mn mathvariant=monospace >1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\tt{p}_{k+1}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.65278em;vertical-align:-0.22222em;"></span><span class=mord ><span class=mord ><span class=mord ><span class="mord mathtt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.277777em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathtt mtight">k</span><span class="mbin mtight">+</span><span class="mord mathtt mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></span> is equivalent to <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant=monospace >p</mi><mi mathvariant=monospace >k</mi></msub></mrow><annotation encoding="application/x-tex">\tt{p}_k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.65278em;vertical-align:-0.22222em;"></span><span class=mord ><span class=mord ><span class=mord ><span class="mord mathtt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.27777700000000005em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathtt mtight">k</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> or <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >{</mo><mrow><msub><mi mathvariant=monospace >p</mi><mi mathvariant=monospace >k</mi></msub><mo separator=true >;</mo><mrow><mi mathvariant=monospace >b</mi><mo stretchy=false >}</mo></mrow></mrow></mrow><annotation encoding="application/x-tex">\{\tt{p}_k; \tt{b}\}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >{</span><span class=mord ><span class=mord ><span class=mord ><span class="mord mathtt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.27777700000000005em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathtt mtight">k</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mpunct >;</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class=mord ><span class="mord mathtt">b</span></span><span class=mclose >}</span></span></span></span></span></span></p> </ul> </ul> <li><p>idea: recursively applies analysis</p> <ul> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi mathvariant=monospace >a</mi><mi mathvariant=monospace >n</mi><mi mathvariant=monospace >a</mi><mi mathvariant=monospace >l</mi><mi mathvariant=monospace >y</mi><mi mathvariant=monospace >s</mi><mi mathvariant=monospace >i</mi><mi mathvariant=monospace >s</mi></mrow><mo stretchy=false >(</mo><mrow><msub><mi mathvariant=monospace >p</mi><mrow><mi mathvariant=monospace >k</mi><mo>+</mo><mn mathvariant=monospace >1</mn></mrow></msub><mo separator=true >,</mo><mi mathvariant=monospace >a</mi><mo stretchy=false >)</mo><mo>=</mo><mrow><mrow><mi mathvariant=monospace >u</mi><mi mathvariant=monospace >n</mi><mi mathvariant=monospace >i</mi><mi mathvariant=monospace >o</mi><mi mathvariant=monospace >n</mi></mrow><mo stretchy=false >(</mo><mrow><mrow><mi mathvariant=monospace >a</mi><mi mathvariant=monospace >n</mi><mi mathvariant=monospace >a</mi><mi mathvariant=monospace >l</mi><mi mathvariant=monospace >y</mi><mi mathvariant=monospace >s</mi><mi mathvariant=monospace >i</mi><mi mathvariant=monospace >s</mi></mrow><mo stretchy=false >(</mo><mrow><msub><mi mathvariant=monospace >p</mi><mi mathvariant=monospace >k</mi></msub><mo separator=true >,</mo><mi mathvariant=monospace >a</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mrow><mrow><mi mathvariant=monospace >a</mi><mi mathvariant=monospace >n</mi><mi mathvariant=monospace >a</mi><mi mathvariant=monospace >l</mi><mi mathvariant=monospace >y</mi><mi mathvariant=monospace >s</mi><mi mathvariant=monospace >i</mi><mi mathvariant=monospace >s</mi></mrow><mo stretchy=false >(</mo><mrow><mi mathvariant=monospace >b</mi><mo separator=true >,</mo><mrow><mrow><mi mathvariant=monospace >a</mi><mi mathvariant=monospace >n</mi><mi mathvariant=monospace >a</mi><mi mathvariant=monospace >l</mi><mi mathvariant=monospace >y</mi><mi mathvariant=monospace >s</mi><mi mathvariant=monospace >i</mi><mi mathvariant=monospace >s</mi></mrow><mo stretchy=false >(</mo><mrow><msub><mi mathvariant=monospace >p</mi><mi mathvariant=monospace >k</mi></msub><mo separator=true >,</mo><mi mathvariant=monospace >a</mi><mo stretchy=false >)</mo><mo stretchy=false >)</mo><mo stretchy=false >)</mo></mrow></mrow></mrow></mrow></mrow></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">\tt{analysis}(\tt{p}_{k+1}, a) = \tt{union}(\tt{analysis}(\tt{p}_k, a), \tt{analysis}(\tt{b}, \tt{analysis}(\tt{p}_k, a)))</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class=mord ><span class="mord mathtt">a</span><span class="mord mathtt">n</span><span class="mord mathtt">a</span><span class="mord mathtt">l</span><span class="mord mathtt">y</span><span class="mord mathtt">s</span><span class="mord mathtt">i</span><span class="mord mathtt">s</span></span><span class=mopen >(</span><span class=mord ><span class=mord ><span class=mord ><span class="mord mathtt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.277777em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathtt mtight">k</span><span class="mbin mtight">+</span><span class="mord mathtt mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.208331em;"><span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathtt">a</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class=mord ><span class="mord mathtt">u</span><span class="mord mathtt">n</span><span class="mord mathtt">i</span><span class="mord mathtt">o</span><span class="mord mathtt">n</span></span><span class=mopen >(</span><span class=mord ><span class=mord ><span class="mord mathtt">a</span><span class="mord mathtt">n</span><span class="mord mathtt">a</span><span class="mord mathtt">l</span><span class="mord mathtt">y</span><span class="mord mathtt">s</span><span class="mord mathtt">i</span><span class="mord mathtt">s</span></span><span class=mopen >(</span><span class=mord ><span class=mord ><span class=mord ><span class="mord mathtt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.27777700000000005em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathtt mtight">k</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathtt">a</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class=mord ><span class="mord mathtt">a</span><span class="mord mathtt">n</span><span class="mord mathtt">a</span><span class="mord mathtt">l</span><span class="mord mathtt">y</span><span class="mord mathtt">s</span><span class="mord mathtt">i</span><span class="mord mathtt">s</span></span><span class=mopen >(</span><span class=mord ><span class=mord ><span class="mord mathtt">b</span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class=mord ><span class="mord mathtt">a</span><span class="mord mathtt">n</span><span class="mord mathtt">a</span><span class="mord mathtt">l</span><span class="mord mathtt">y</span><span class="mord mathtt">s</span><span class="mord mathtt">i</span><span class="mord mathtt">s</span></span><span class=mopen >(</span><span class=mord ><span class=mord ><span class=mord ><span class="mord mathtt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.27777700000000005em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathtt mtight">k</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathtt">a</span><span class=mclose >)</span><span class=mclose >)</span><span class=mclose >)</span></span></span></span></span></span></span></span></span></span></span></span></span></p> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=monospace >R</mi><mo>←</mo><mrow><mrow><mi mathvariant=monospace >u</mi><mi mathvariant=monospace >n</mi><mi mathvariant=monospace >i</mi><mi mathvariant=monospace >o</mi><mi mathvariant=monospace >n</mi></mrow><mo stretchy=false >(</mo><mrow><mi mathvariant=monospace >R</mi><mo separator=true >,</mo><mrow><mrow><mi mathvariant=monospace >a</mi><mi mathvariant=monospace >n</mi><mi mathvariant=monospace >a</mi><mi mathvariant=monospace >l</mi><mi mathvariant=monospace >y</mi><mi mathvariant=monospace >s</mi><mi mathvariant=monospace >i</mi><mi mathvariant=monospace >s</mi></mrow><mo stretchy=false >(</mo><mrow><mi mathvariant=monospace >b</mi><mo separator=true >,</mo><mrow><mi mathvariant=monospace >R</mi><mo stretchy=false >)</mo><mo stretchy=false >)</mo></mrow></mrow></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">\tt{R} \leftarrow \tt{union}(\tt{R}, \tt{analysis}(\tt{b}, \tt{R}))</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class=mord ><span class="mord mathtt">R</span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >←</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class=mord ><span class="mord mathtt">u</span><span class="mord mathtt">n</span><span class="mord mathtt">i</span><span class="mord mathtt">o</span><span class="mord mathtt">n</span></span><span class=mopen >(</span><span class=mord ><span class=mord ><span class="mord mathtt">R</span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class=mord ><span class="mord mathtt">a</span><span class="mord mathtt">n</span><span class="mord mathtt">a</span><span class="mord mathtt">l</span><span class="mord mathtt">y</span><span class="mord mathtt">s</span><span class="mord mathtt">i</span><span class="mord mathtt">s</span></span><span class=mopen >(</span><span class=mord ><span class=mord ><span class="mord mathtt">b</span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class=mord ><span class="mord mathtt">R</span></span><span class=mclose >)</span><span class=mclose >)</span></span></span></span></span></span></span></span></span></span></p> <li><p>analysis converges if <code>R</code> stabilizes</p> </ul> <li><p>approach: force the number of abstract elements to decrease over iteration</p> <ul> <li><p><code>widen</code>ing: over-approximates <code>union</code>s, enforces convergence</p> <li><p><code>inclusion</code>: inputs abstract elements <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>0</mn></msub><mo separator=true >,</mo><msub><mi>a</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_0, a_1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and returns <strong>true</strong> only when it can prove that <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo stretchy=false >(</mo><msub><mi>a</mi><mn>0</mn></msub><mo stretchy=false >)</mo><mo>⊆</mo><mi>γ</mi><mo stretchy=false >(</mo><msub><mi>a</mi><mn>1</mn></msub><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">γ(a_0) ⊆ γ(a_1)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >⊆</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span></span></span></span></p> </ul> </ul> <p>Algorithm: <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi mathvariant=monospace >a</mi><mi mathvariant=monospace >n</mi><mi mathvariant=monospace >a</mi><mi mathvariant=monospace >l</mi><mi mathvariant=monospace >y</mi><mi mathvariant=monospace >s</mi><mi mathvariant=monospace >i</mi><mi mathvariant=monospace >s</mi><mo stretchy=false >(</mo><mi mathvariant=monospace >i</mi><mi mathvariant=monospace >t</mi><mi mathvariant=monospace >e</mi><mi mathvariant=monospace >r</mi><mo stretchy=false >{</mo><mi mathvariant=monospace >p</mi><mo stretchy=false >}</mo></mrow><mo separator=true >,</mo><mi mathvariant=monospace >a</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\tt{analysis(iter\{p\}}, a)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class=mord ><span class="mord mathtt">a</span><span class="mord mathtt">n</span><span class="mord mathtt">a</span><span class="mord mathtt">l</span><span class="mord mathtt">y</span><span class="mord mathtt">s</span><span class="mord mathtt">i</span><span class="mord mathtt">s</span><span class=mopen >(</span><span class="mord mathtt">i</span><span class="mord mathtt">t</span><span class="mord mathtt">e</span><span class="mord mathtt">r</span><span class=mopen >{</span><span class="mord mathtt">p</span><span class=mclose >}</span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathtt">a</span><span class=mclose >)</span></span></span></span></span></p> <pre><code class=language-plaintext >R ← a;
repeat
    T ← R;
    R ← widen&#40;R, analysis&#40;p, R&#41;&#41;;
until inclusion&#40;R, T&#41;
return T;</code></pre> <div class=note ><div class=admonition-header >Note</div> <div class=admonition-body ><p>Widening is another source of potential incompleteness, but fortunately there are many techniques to make the analysis of loops more precise.</p> <div class=example ><div class=admonition-header >Example: Loop unrolling</div> <div class=admonition-body ><p>To unroll the first iteration of the loop into the union of <code>&#123;&#123;&#125;; b&#125;</code> can ease the effect of the succeeding widenings. <table><p> <tr><p> <th> <th><p>program that acts on 2D space</p> <th><p>abstract iteration</p> </p> <tr><p> <td><p>original</p> <td><pre><code class=language-plaintext >init&#40;&#123;&#40;x,y&#41; | 0 ≤ y ≤ 2x and x ≤ 0.5&#125;&#41;
iter&#123;
  translation&#40;1, 0.5&#41;
&#125;</code></pre> <td><p><img src="./assets/2.3.4-abstract-iteration.png" alt=abstract-iteration  /></p> </p> <tr><p> <td><p>loop unrolled</p> <td><pre><code class=language-plaintext >init&#40;&#123;&#40;x,y&#41; | 0 ≤ y ≤ 2x and x ≤ 0.5&#125;&#41;
&#123;&#125; or &#123;
  translation&#40;1, 0.5&#41;
&#125;
iter&#123;
  translation&#40;1, 0.5&#41;
&#125;</code></pre> <td><p><img src="./assets/2.3.4-abstract-iteration-loop-unrolled.png" alt=abstract-iteration  /></p> </p> </p> </table> </p></div></div></div></div> <h3 id=235_verification_of_the_property_of_interest ><a href="#235_verification_of_the_property_of_interest" class=header-anchor >2.3.5 Verification of the Property of Interest</a></h3> <p>The analysis discussed so far actually computes as intermediate results over-approximations for all the interesting states of the input program.</p> <h2 id=24_a_computable_abstract_semantics_transitional_style ><a href="#24_a_computable_abstract_semantics_transitional_style" class=header-anchor >2.4 A Computable Abstract Semantics: Transitional Style</a></h2> <p>Idea: compute, from the outset, all occurring intermediate states</p> <h3 id=241_semantics_as_state_transitions ><a href="#241_semantics_as_state_transitions" class=header-anchor >2.4.1 Semantics as State Transitions</a></h3> <p>The goal of the analysis: to collect all the states occurring in all possible transition sequences of the input program.</p> <ul> <li><p>program: a collection of <em>statement</em>s with a well defined execution order</p> <li><p><em>program counter &#40;program point&#41;</em>: a unique label assigned to each statement of the program</p> <li><p><em>control flow</em>: the execution order, specified by a relation between the labels &#40;from current program points to next program points&#41;</p> </ul> <p><img src="./assets/2.4.1-example-program.png" alt=abstract-iteration  /></p> <div class=caption >An example program</div> <div class=page-foot > <div class=copyright > &copy; Shuhei Kadowaki. Last modified: 2021-04-20. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> <script src="/libs/highlight/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: ' '});</script> <script src="/libs/collapsible.js"></script> <script src="/libs/lodash.js"></script> <script src="/libs/onscroll.js"></script> <script> document.ontouchstart = () => {} </script>