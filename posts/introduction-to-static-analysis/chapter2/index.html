<!DOCTYPE html> <html lang=en > <meta charset=UTF-8  /> <meta name=viewport  content="width=device-width, initial-scale=1" /> <title>Chapter 2 ‚Äî A Gentle Introduction to Static Analysis</title> <meta property="og:url" content="posts/introduction-to-static-analysis/chapter2" /> <meta property="og:title" content="Chapter 2 ‚Äî A Gentle Introduction to Static Analysis" /> <meta property="og:image" content="assets/what_about_the_dead_fish.jpeg" /> <meta property="og:type" content=article  /> <meta property="og:description" content="A note on "Introduction to Static Analysis", Chapter 2 ‚Äî A Gentle Introduction to Static Analysis" /> <meta property="og:published_time" content=2021-04-21  /> <meta name="twitter:card" content=summary  /> <meta name="twitter:site" content="@kdwkshh" /> <meta name="twitter:creator" content="@kdwkshh" /> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/atom-one-light.min.css"> <link rel=icon  href="/assets/what_about_the_dead_fish.jpeg" /> <link rel=stylesheet  href="/css/aviatesk.css" /> <navigation-bar><div class=navigation-info  id=site-info ><a href="/">Shuhei Kadowaki's homepage</a></div></navigation-bar><navigation-bar class=navigation-sticky ><navigation-hover> <a class=navigation-info  id=page-info >$ Chapter 2 ‚Äî A Gentle Introduction to Static Analysis</a> <div class=franklin-toc ><ol><li><a href="#22_abstraction"> 1. 2.2 Abstraction</a><li><a href="#23_a_computable_abstract_semantics_compositional_style"> 2. 2.3 A Computable Abstract Semantics: Compositional Style</a><li><a href="#24_a_computable_abstract_semantics_transitional_style"> 3. 2.4 A Computable Abstract Semantics: Transitional Style</a><li><a href="#25_core_principles_of_a_static_analysis"> 4. 2.5 Core Principles of a Static Analysis</a></ol></div> </navigation-hover> <navigation-hover> <img src="/assets/terminal.svg" id=terminal-icon  /> <ul id=site-cd > <li><a style="text-decoration: none" href="/">cd ~</a> <li><a style="text-decoration: none" href="/posts">cd posts</a> <li><a style="text-decoration: none" href="https://github.com/aviatesk">cd <i class="fab fa-github"></i></a> <li><a style="text-decoration: none" href="https://twitter.com/kdwkshh">cd <i class="fab fa-twitter"></i></a> <li><a style="text-decoration: none" href="javascript:history.back()">cd ..</a> </ul> </navigation-hover> </navigation-bar> <div class=franklin-content ><div class=blog-info > <blogtitle> Chapter 2 ‚Äî A Gentle Introduction to Static Analysis <a type="application/rss+xml" href="https://aviatesk.github.io/feed.xml" style="float: right"> <i class="fas fa-rss"></i> </a> </blogtitle> <div class=published-date > 21 April 2021 </div> </div> <h1 id=22_abstraction ><a href="#22_abstraction" class=header-anchor >2.2 Abstraction</a></h1> <div class=example ><div class=admonition-header >Example: Semantic Property of Interest: Reachability</div> <div class=admonition-body ><p>Realistic application for C programs:</p> <ul> <li><p>where it dereference a null pointer</p> <li><p>where it writes over a dangling pointer</p> </ul></div></div> <br/> <div class=definition ><div class=admonition-header >Definition: Abstraction</div> <div class=admonition-body >We call <em>abstraction</em> a set ùíú of logical properties of program states, which are called <em>abstract properties</em> or <em>abstract elements</em>. A set of abstract properties is called an <em>abstract domain</em>.</div></div> <br/> <div class=definition ><div class=admonition-header >Definition: Concretization</div> <div class=admonition-body >Given an abstract element <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> of ùíú, we call <em>concretization</em> the set of program states that satisfy it. We denote it by <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Œ≥</mi><mo stretchy=false >(</mo><mi>a</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\gamma(a)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Œ≥</span><span class=mopen >(</span><span class="mord mathnormal">a</span><span class=mclose >)</span></span></span></span></div></div> <p>Abstraction is not unique ‚Äì some abstractions yield simpler computer representations and less costly algorithms than others: <div class=definition ><div class=admonition-header >Definition: Best Abstraction</div> <div class=admonition-body ><p>We say that <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> is the <em>best abstraction</em> of the concrete set <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> if and only if</p> <ul> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>‚àà</mo><mi>Œ≥</mi><mo stretchy=false >(</mo><mi>a</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">S \in \gamma(a)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >‚àà</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Œ≥</span><span class=mopen >(</span><span class="mord mathnormal">a</span><span class=mclose >)</span></span></span></span>, and</p> <li><p>for any <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mo mathvariant=normal  lspace=0em  rspace=0em >‚Ä≤</mo></msup></mrow><annotation encoding="application/x-tex">a^{\prime}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.751892em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">‚Ä≤</span></span></span></span></span></span></span></span></span></span></span></span> that is an abstraction of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> &#40;i.e., <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>‚àà</mo><mi>Œ≥</mi><mo stretchy=false >(</mo><msup><mi>a</mi><mo mathvariant=normal  lspace=0em  rspace=0em >‚Ä≤</mo></msup><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">S \in \gamma(a^{\prime})</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >‚àà</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Œ≥</span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">‚Ä≤</span></span></span></span></span></span></span></span></span><span class=mclose >)</span></span></span></span>&#41;, then <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mo mathvariant=normal  lspace=0em  rspace=0em >‚Ä≤</mo></msup></mrow><annotation encoding="application/x-tex">a^{\prime}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.751892em;vertical-align:0em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">‚Ä≤</span></span></span></span></span></span></span></span></span></span></span></span> is a coarser abstraction than <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span></p> </ul> <p>If <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> has a best abstraction, then the best abstraction is unique. When it is defined, we let Œ± denote the function that maps any concrete set of states into the best abstraction of that set of states.</p></div></div></p> <p>The best abstraction may not be available. But the impossibility to define or compute the best abstraction is in no way a serious flow for the analysis, as it just lead to conservative but sound results.</p> <p>Think of the &quot;reachability&quot; semantic property of a program that acts on 2D space: <table><p> <tr><p> <th><p>abstraction</p> <th><p>idea</p> <th> </p> <tr><p> <td><p>intervals abstraction</p> <td><p>the abstract elements of the interval abstract are defined by constraints of the form <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>l</mi><mi mathvariant=normal >X</mi></msub><mo>‚â§</mo><mrow><mi mathvariant=normal >X</mi><mo separator=true >,</mo><mrow><mi mathvariant=normal >X</mi><mo>‚â§</mo><msub><mi mathvariant=normal >h</mi><mi mathvariant=normal >X</mi></msub><mo separator=true >,</mo><msub><mi mathvariant=normal >l</mi><mi mathvariant=normal >Y</mi></msub><mo>‚â§</mo><mrow><mi mathvariant=normal >Y</mi><mo separator=true >,</mo><mrow><mi mathvariant=normal >Y</mi><mo>‚â§</mo><msub><mi mathvariant=normal >h</mi><mi mathvariant=normal >Y</mi></msub></mrow></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">l_{\rm{X}} ‚â§ \rm{X}, \rm{X} ‚â§ h_{\rm{X}}, l_{\rm{Y}} ‚â§ \rm{Y}, \rm{Y} ‚â§ h_{\rm{Y}}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.84444em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">X</span></span></span></span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >‚â§</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class=mord ><span class=mord ><span class="mord mathrm">X</span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class=mord ><span class="mord mathrm">X</span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >‚â§</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathrm">h</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">X</span></span></span></span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathrm">l</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight" style="margin-right:0.025em;">Y</span></span></span></span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >‚â§</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class=mord ><span class="mord mathrm" style="margin-right:0.025em;">Y</span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class=mord ><span class="mord mathrm" style="margin-right:0.025em;">Y</span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >‚â§</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord ><span class="mord mathrm">h</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight" style="margin-right:0.025em;">Y</span></span></span></span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> <td><ul> <li><p>always has the best abstraction</p> <li><p><strong>non-relational</strong></p> <li><p>simpler, more efficient representation</p> </ul> </p> <tr><p> <td><p>convex polyhedra abstraction</p> <td><p>the abstract elements of the convex polyhedra abstract domain are conjunctions of linear inequality constraints, e.g.</p> <ul> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >X</mi><mo>‚àí</mo><mrow><mi mathvariant=normal >Y</mi><mo>‚â•</mo><mo>‚àí</mo><mn>0.5</mn></mrow></mrow><annotation encoding="application/x-tex">\rm{X} - \rm{Y} ‚â• -0.5</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8193em;vertical-align:-0.13597em;"></span><span class=mord ><span class=mord ><span class="mord mathrm">X</span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >‚àí</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mord ><span class=mord ><span class="mord mathrm" style="margin-right:0.025em;">Y</span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >‚â•</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mord >‚àí</span><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mord mathrm">5</span></span></span></span></span></span></p> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >X</mi><mo>‚â§</mo><mn>2.5</mn></mrow><annotation encoding="application/x-tex">\rm{X} ‚â§ 2.5 </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8193em;vertical-align:-0.13597em;"></span><span class=mord ><span class=mord ><span class="mord mathrm">X</span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >‚â§</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathrm">2</span><span class="mord mathrm">.</span><span class="mord mathrm">5</span></span></span></span></span></p> </ul> <td><ul> <li><p>may not have the best abstraction</p> <li><p><strong>relational</strong></p> <li><p>more expressive, but more complex and less efficient</p> </ul> </p> </p> </table> </p> <h1 id=23_a_computable_abstract_semantics_compositional_style ><a href="#23_a_computable_abstract_semantics_compositional_style" class=header-anchor >2.3 A Computable Abstract Semantics: Compositional Style</a></h1> <p>A compositional approach to static analysis: to analyze a sequence of commands, &quot;composes&quot; the analyses of each sub-command</p> <h2 id=231_abstraction_of_initialization ><a href="#231_abstraction_of_initialization" class=header-anchor >2.3.1 Abstraction of Initialization</a></h2> <h2 id=232_abstraction_of_post-conditions ><a href="#232_abstraction_of_post-conditions" class=header-anchor >2.3.2 Abstraction of Post-Conditions</a></h2> <ul> <li><p><em>abstract pre-condition</em>: an abstraction of the states that can be observed <em>before</em> a program fragment</p> <li><p><em>abstract post-condition</em>: an abstraction of the states that can be observed <em>after</em> that program fragment</p> <li><p><em>transfer function</em>: an abstract operation that accounts for the effect of a basic program statement</p> </ul> <div class=definition ><div class=admonition-header >Definition: Sound analysis by abstract interpretation in compositional style</div> <div class=admonition-body >We consider a static analysis function <code>analysis</code> that inputs a program and an abstract pre-condition and returns an abstract post-condition. We say that <code>analysis</code> is sound if and only if the following condition holds: <div class=theorem-quote >If an execution of <code>p</code> from a state &#40;<code>x</code>, <code>y</code>&#41; generates that state &#40;<code>x‚Ä≤</code>, <code>y‚Ä≤</code>&#41;,<br/> then for all abstract element <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> such that &#40;<code>x</code>, <code>y</code>&#41; ‚àà Œ≥&#40;<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span>&#41;,<br/> &#40;<code>x‚Ä≤</code>, <code>y‚Ä≤</code>&#41; ‚àà Œ≥&#40;<code>analysis</code>&#40;<code>p</code>, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span>&#41;&#41;</div></div></div> <p>The definition above entails that:</p> <ul> <li><p>the analysis will produce <strong>sound</strong> results in the sense of <a href="#soundness">the soundness definition</a> when considering the property ùí´ of interest. Since the analysis over-approximates the states the program may reach, if it claims that ùí´ is not reachable, then we are sure that the program cannot reach ùí´.</p> <li><p>the analysis is not complete in the sense of <a href="#soundness">the soundness definition</a>, since it accepts analyses that produce coarse over-approximations</p> </ul> <h2 id=233_abstraction_of_non-deterministic_choice ><a href="#233_abstraction_of_non-deterministic_choice" class=header-anchor >2.3.3 Abstraction of Non-Deterministic Choice</a></h2> <p>Abstract interpretation will produce an over-approximation of both cases, as the <code>union</code> of two sets of abstract elements.</p> <div class=note ><div class=admonition-header >Note</div> <div class=admonition-body >This is another reason for the incompleteness of the analysis: it cannot express precise disjunctive properties &#40;the several solutions will be presented in section 5.1&#41;.</div></div> <h2 id=234_abstraction_of_non-deterministic_iteration ><a href="#234_abstraction_of_non-deterministic_iteration" class=header-anchor >2.3.4 Abstraction of Non-Deterministic Iteration</a></h2> <div class=note ><div class=admonition-header >An interesting fact about static analysis</div> <div class=admonition-body >No analysis can ensure that an iteration will terminate with the abstract post-condition &#40;even if computed&#41;, because the halting problem cannot be computed exactly in finite time.</div></div> <ul> <li><p>setup:</p> <ul> <li><p>program <code>p</code> consists of a loop with body <code>b</code>: <code>p</code> <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>:</mo><mo>:</mo><mo>=</mo></mrow><annotation encoding="application/x-tex">::=</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class=mrel >:</span></span><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class=mrel >:</span></span><span class=base ><span class=strut  style="height:0.36687em;vertical-align:0em;"></span><span class=mrel >=</span></span></span></span> <code>iter&#123; b &#125;</code></p> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext mathvariant=monospace >b</mtext><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\texttt{b}_k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7611100000000001em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class="mord texttt">b</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>: program that iterates <code>b</code> <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> times</p> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext mathvariant=monospace >p</mtext><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\texttt{p}_k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.70248em;vertical-align:-0.27192em;"></span><span class=mord ><span class="mord text"><span class="mord texttt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.21418799999999993em;"><span style="top:-2.42808em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.27192em;"><span></span></span></span></span></span></span></span></span></span>: program that iterates <code>b</code> at most <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> times</p> <ul> <li><p>implies: <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext mathvariant=monospace >p</mtext><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\texttt{p}_{k+1}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7608109999999999em;vertical-align:-0.33025099999999996em;"></span><span class=mord ><span class="mord text"><span class="mord texttt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.21418799999999993em;"><span style="top:-2.42808em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.33025099999999996em;"><span></span></span></span></span></span></span></span></span></span> is equivalent to <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext mathvariant=monospace >p</mtext><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\texttt{p}_k</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.70248em;vertical-align:-0.27192em;"></span><span class=mord ><span class="mord text"><span class="mord texttt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.21418799999999993em;"><span style="top:-2.42808em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.27192em;"><span></span></span></span></span></span></span></span></span></span> or <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >{</mo><msub><mtext mathvariant=monospace >p</mtext><mi>k</mi></msub><mo separator=true >;</mo><mtext mathvariant=monospace >b</mtext><mo stretchy=false >}</mo></mrow><annotation encoding="application/x-tex">\{\texttt{p}_k; \texttt{b}\}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.02192em;vertical-align:-0.27192em;"></span><span class=mopen >{</span><span class=mord ><span class="mord text"><span class="mord texttt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.21418799999999993em;"><span style="top:-2.42808em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.27192em;"><span></span></span></span></span></span></span><span class=mpunct >;</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord texttt">b</span></span><span class=mclose >}</span></span></span></span></p> </ul> </ul> <li><p>idea: recursively applies analysis</p> <ul> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant=monospace >analysis</mtext><mo stretchy=false >(</mo><msub><mtext mathvariant=monospace >p</mtext><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator=true >,</mo><mi>a</mi><mo stretchy=false >)</mo><mo>=</mo><mtext mathvariant=monospace >union</mtext><mo stretchy=false >(</mo><mtext mathvariant=monospace >analysis</mtext><mo stretchy=false >(</mo><msub><mtext mathvariant=monospace >p</mtext><mi>k</mi></msub><mo separator=true >,</mo><mi>a</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mtext mathvariant=monospace >analysis</mtext><mo stretchy=false >(</mo><mtext mathvariant=monospace >b</mtext><mo separator=true >,</mo><mtext mathvariant=monospace >analysis</mtext><mo stretchy=false >(</mo><msub><mtext mathvariant=monospace >p</mtext><mi>k</mi></msub><mo separator=true >,</mo><mi>a</mi><mo stretchy=false >)</mo><mo stretchy=false >)</mo><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\texttt{analysis}(\texttt{p}_{k+1}, a) = \texttt{union}(\texttt{analysis}(\texttt{p}_k, a), \texttt{analysis}(\texttt{b}, \texttt{analysis}(\texttt{p}_k, a)))</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.080251em;vertical-align:-0.33025099999999996em;"></span><span class="mord text"><span class="mord texttt">analysis</span></span><span class=mopen >(</span><span class=mord ><span class="mord text"><span class="mord texttt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.21418799999999993em;"><span style="top:-2.42808em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.33025099999999996em;"><span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.02192em;vertical-align:-0.27192em;"></span><span class="mord text"><span class="mord texttt">union</span></span><span class=mopen >(</span><span class="mord text"><span class="mord texttt">analysis</span></span><span class=mopen >(</span><span class=mord ><span class="mord text"><span class="mord texttt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.21418799999999993em;"><span style="top:-2.42808em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.27192em;"><span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord texttt">analysis</span></span><span class=mopen >(</span><span class="mord text"><span class="mord texttt">b</span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord texttt">analysis</span></span><span class=mopen >(</span><span class=mord ><span class="mord text"><span class="mord texttt">p</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.21418799999999993em;"><span style="top:-2.42808em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.27192em;"><span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class=mclose >)</span><span class=mclose >)</span><span class=mclose >)</span></span></span></span></p> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant=monospace >R</mtext><mo>‚Üê</mo><mtext mathvariant=monospace >union</mtext><mo stretchy=false >(</mo><mtext mathvariant=monospace >R</mtext><mo separator=true >,</mo><mtext mathvariant=monospace >analysis</mtext><mo stretchy=false >(</mo><mtext mathvariant=monospace >b</mtext><mo separator=true >,</mo><mtext mathvariant=monospace >R</mtext><mo stretchy=false >)</mo><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\texttt{R} \leftarrow \texttt{union}(\texttt{R}, \texttt{analysis}(\texttt{b}, \texttt{R}))</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">R</span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >‚Üê</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord texttt">union</span></span><span class=mopen >(</span><span class="mord text"><span class="mord texttt">R</span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord texttt">analysis</span></span><span class=mopen >(</span><span class="mord text"><span class="mord texttt">b</span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord texttt">R</span></span><span class=mclose >)</span><span class=mclose >)</span></span></span></span></p> <li><p>analysis converges if <code>R</code> stabilizes</p> </ul> <li><p>approach: force the number of abstract elements to decrease over iteration</p> <ul> <li><p><code>widen</code>ing: over-approximates <code>union</code>s, enforces convergence</p> <ul> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant=monospace >widen</mtext><mo stretchy=false >(</mo><msub><mi>a</mi><mn>0</mn></msub><mo separator=true >,</mo><msub><mi>a</mi><mn>1</mn></msub><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\texttt{widen}(a_0, a_1)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord texttt">widen</span></span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span></span></span></span>:</p> <ul> <li><p>keeps all constraints of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">a_0</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.58056em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> that are also satisfied in <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.58056em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and</p> <li><p>discards all constraints of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">a_0</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.58056em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> that are not satisfied in <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.58056em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> &#40;hence to subsume <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.58056em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>&#41;</p> </ul> </ul> <li><p><code>inclusion</code>: inputs abstract elements <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>0</mn></msub><mo separator=true >,</mo><msub><mi>a</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_0, a_1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and returns <strong>true</strong> only when it can prove that <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Œ≥</mi><mo stretchy=false >(</mo><msub><mi>a</mi><mn>0</mn></msub><mo stretchy=false >)</mo><mo>‚äÜ</mo><mi>Œ≥</mi><mo stretchy=false >(</mo><msub><mi>a</mi><mn>1</mn></msub><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">Œ≥(a_0) ‚äÜ Œ≥(a_1)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Œ≥</span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >‚äÜ</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Œ≥</span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >‚Äã</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span></span></span></span></p> </ul> </ul> <p>Algorithm: <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant=monospace >analysis(iter{p}</mtext><mo separator=true >,</mo><mi>a</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\texttt{analysis(iter\{p\}}, a)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord texttt">analysis(iter{p}</span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class=mclose >)</span></span></span></span></p> <pre><code class=language-plaintext >R ‚Üê a;
repeat
    T ‚Üê R;
    R ‚Üê widen&#40;R, analysis&#40;p, R&#41;&#41;;
until inclusion&#40;R, T&#41;
return T;</code></pre> <div class=note ><div class=admonition-header >Note</div> <div class=admonition-body ><p>Widening is another source of potential incompleteness, but fortunately there are many techniques to make the analysis of loops more precise.</p> <div class=example ><div class=admonition-header >Example: Loop unrolling</div> <div class=admonition-body ><p>To unroll the first iteration of the loop into the union of <code>&#123;&#123;&#125;; b&#125;</code> can ease the effect of the succeeding widenings. <table><p> <tr><p> <th> <th><p>program that acts on 2D space</p> <th><p>abstract iteration</p> </p> <tr><p> <td><p>original</p> <td><pre><code class=language-plaintext >init&#40;&#123;&#40;x,y&#41; | 0 ‚â§ y ‚â§ 2x and x ‚â§ 0.5&#125;&#41;
iter&#123;
  translation&#40;1, 0.5&#41;
&#125;</code></pre> <td><p><img src="./assets/abstract-iteration.png" alt=abstract-iteration  /></p> </p> <tr><p> <td><p>loop unrolled</p> <td><pre><code class=language-plaintext >init&#40;&#123;&#40;x,y&#41; | 0 ‚â§ y ‚â§ 2x and x ‚â§ 0.5&#125;&#41;
&#123;&#125; or &#123;
  translation&#40;1, 0.5&#41;
&#125;
iter&#123;
  translation&#40;1, 0.5&#41;
&#125;</code></pre> <td><p><img src="./assets/abstract-iteration-loop-unrolled.png" alt=abstract-iteration-loop-unrolled  /></p> </p> </p> </table> </p></div></div></div></div> <h2 id=235_verification_of_the_property_of_interest ><a href="#235_verification_of_the_property_of_interest" class=header-anchor >2.3.5 Verification of the Property of Interest</a></h2> <p>The analysis discussed so far actually computes as intermediate results over-approximations for all the interesting states of the input program, and thus we can just monitor them and use it for the verification of the property of interest.</p> <h1 id=24_a_computable_abstract_semantics_transitional_style ><a href="#24_a_computable_abstract_semantics_transitional_style" class=header-anchor >2.4 A Computable Abstract Semantics: Transitional Style</a></h1> <p>Idea: compute, from the outset, all occurring intermediate states</p> <h2 id=241_semantics_as_state_transitions ><a href="#241_semantics_as_state_transitions" class=header-anchor >2.4.1 Semantics as State Transitions</a></h2> <p>The goal of the analysis: to collect all the states occurring in all possible transition sequences of the input program.</p> <ul> <li><p>program: a collection of <em>statement</em>s with a well defined execution order</p> <li><p><em>program counter &#40;program point&#41;</em>: a unique label assigned to each statement of the program</p> <li><p><em>control flow</em>: the execution order, specified by a relation between the labels &#40;from current program points to next program points&#41;</p> </ul> <p>The algorithm works very similarly to the &quot;compositional style&quot;, but it will compute states <em>per statement</em> and iterates until all the statement states get converged.</p> <h1 id=25_core_principles_of_a_static_analysis ><a href="#25_core_principles_of_a_static_analysis" class=header-anchor >2.5 Core Principles of a Static Analysis</a></h1> <p>The three-stage approach for static analysis:</p> <ol> <li><p><strong>selection of the semantics and properties of interest</strong></p> <li><p><strong>choice of the abstraction</strong></p> <li><p><strong>derivation of the analysis algorithms from the semantics and from the abstraction</strong></p> </ol> <div class=page-foot > <div class=copyright > &copy; Shuhei Kadowaki. Last modified: 2021-08-03. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> <script src="/libs/highlight/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: ' '});</script> <script src="/libs/collapsible.js"></script> <script src="/libs/lodash.js"></script> <script src="/libs/onscroll.js"></script> <script> document.ontouchstart = () => {} </script>